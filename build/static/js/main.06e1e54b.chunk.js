(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{212:function(t,e,a){t.exports=a(415)},217:function(t,e,a){},221:function(t,e,a){},225:function(t,e,a){},281:function(t,e,a){t.exports=a.p+"static/media/avatar.a8ab34e3.png"},414:function(t,e,a){},415:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(7),o=a.n(c),i=(a(217),a(54),a(30)),l=(a(87),a(28)),s=a(19),u=a(20),p=a(23),m=a(21),d=a(24),g=(a(221),a(128),a(9)),h=(a(416),a(46)),f=(a(225),a(41)),b=a(71),v=a(52),y=i.a.Sider,E=h.b.SubMenu,j=new Map;j.set("/","article-list"),j.set("/addArticle","article-add"),j.set("/tagList","tag-list"),j.set("/addTag","tag-add"),j.set("/borad","borad"),j.set("/edit","article-list");var O=function(t){function e(){return Object(s.a)(this,e),Object(p.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(u.a)(e,[{key:"componentWillMount",value:function(){var t=this;this.props.history.listen(function(e){console.log(t.props.dispatch,e,"---------"),t.props.updateStateAction(e.pathname)})}},{key:"render",value:function(){var t=this,e=this.props.location.pathname,n="sub-article";return(e=e.startsWith("/edit")?"/edit":e).toLocaleLowerCase().includes("tag")?n="sub-tag":e.toLocaleLowerCase().includes("borad")&&(n="sub-borad"),r.a.createElement(y,{className:"left-nav",collapsible:!0,collapsed:this.props.collapsed,onCollapse:function(e,a){return t.props.onCollapsedHandler()}},r.a.createElement("div",{className:"left-nav-avatar"},r.a.createElement("img",{alt:"avatar",src:a(281)})),r.a.createElement(h.b,{theme:"dark",mode:"inline",defaultOpenKeys:[n],defaultSelectedKeys:[j.get(e)],selectedKeys:[j.get(e||"/")]},r.a.createElement(E,{key:"sub-article",title:r.a.createElement("span",null,r.a.createElement(g.a,{type:"ordered-list"}),this.props.collapsed?"":"\u6587\u7ae0\u7ba1\u7406")},r.a.createElement(h.b.Item,{key:"article-list"},r.a.createElement(f.b,{to:"/"},r.a.createElement("span",null,"\u6587\u7ae0\u5217\u8868"))),r.a.createElement(h.b.Item,{key:"article-add"},r.a.createElement(f.b,{to:"/addArticle"},r.a.createElement("span",null,"\u6dfb\u52a0\u6587\u7ae0")))),r.a.createElement(E,{key:"sub-tag",title:r.a.createElement("span",null,r.a.createElement(g.a,{type:"tags"}),this.props.collapsed?"":"\u6807\u7b7e\u7ba1\u7406")},r.a.createElement(h.b.Item,{key:"tag-list"},r.a.createElement(f.b,{to:"/tagList"},r.a.createElement("span",null,"\u5168\u90e8\u6807\u7b7e"))),r.a.createElement(h.b.Item,{key:"tag-add"},r.a.createElement(f.b,{to:"/addTag"},r.a.createElement("span",null,"\u65b0\u589e\u6807\u7b7e")))),r.a.createElement(E,{key:"sub-borad",title:r.a.createElement("span",null,r.a.createElement(g.a,{type:"message"}),this.props.collapsed?"":"\u7559\u8a00\u5899\u7ba1\u7406")},r.a.createElement(h.b.Item,{key:"borad"},r.a.createElement(f.b,{to:"/borad"},r.a.createElement("span",null,"\u7559\u8a00\u5899"))))))}}]),e}(r.a.Component),k=Object(b.e)(Object(v.b)(function(t){return function(){return{path:t.common.path}}},function(t){return{updateStateAction:function(e){return t({type:"update",payload:e})}}})(O)),C=(a(78),a(31)),w=(a(193),a(122)),S=(a(176),a(95)),A=(a(297),a(210)),L=(a(104),a(59)),x=(a(300),a(157)),I=function(t){function e(){return Object(s.a)(this,e),Object(p.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return r.a.createElement(x.a,{style:{margin:"16px 0"}},this.props.pathList.map(function(t,e){return r.a.createElement(x.a.Item,{key:e},t)}))}}]),e}(r.a.Component),N={article:{getAllarticles:"/post/list",getOnearticle:"/post/onepost",getArticleByPagination:"/post/pagination",getArticleByPaginationWithTag:"/post/pagination/withtag",deleteArticle:"/post/deleteArticle",upadteArticle:"/post/updateArticle",insertPost:"/post/insert"},tag:{getAlltags:"/tag/list",deleteTag:"/tag/delete",renameTag:"/tag/rename",insertTag:"/tag/insert"},comment:{insertLeaveMessage:"/comment/insertComment",getLeaveMessageList:"/comment/getleaveComment"},user:{verify:"/user/verify"}},T=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{headers:new Headers({"Content-Type":"application/json",Authorization:document.cookie.match(/_ytcblog_token_=(.*)(;?)/)?document.cookie.match(/_ytcblog_token_=(.*)(;?)/)[1]:""})};return t="/api"+t,e=Object.assign(a,{method:this.method,mode:"cors"},"POST"===this.method?{body:JSON.stringify(e)}:{}),fetch(t,e).then(function(t){return t.json()}).then(function(t){if(console.log(t,!t.hasError),t&&!t.hasError)return t;throw JSON.stringify(t.msg||"\u63a5\u53e3\u5f02\u5e38")}).catch(alert)},D={get:T.bind({method:"GET"}),post:T.bind({method:"POST"})},P=i.a.Content,M=function(t){if(/(.*)T(.*)/.test(t))return RegExp.$1.replace(/-/g,".")},_=L.a.confirm,H=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(p.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(c)))).state={articleData:[],articleCount:0,columns:[{title:"\u6807\u9898",dataIndex:"title",render:function(t){return r.a.createElement("a",{href:"javascript:"},t)}},{title:"\u65e5\u671f",dataIndex:"created_at",render:function(t){return r.a.createElement("a",{href:"javascript:"},M(t).replace(/\./g,"-"))}},{title:"\u6807\u7b7e",dataIndex:"tags",render:function(t){return r.a.createElement("span",null,t.map(function(t){return r.a.createElement(A.a,{color:"geekblue",key:t.id},t.tagName)}))}},{title:"\u7f16\u8f91",render:function(t,e){return r.a.createElement("span",null,r.a.createElement("a",{href:"http://chentianyuan.xyz/article/".concat(e.id)},"\u67e5\u770b"),r.a.createElement(S.a,{type:"vertical"}),r.a.createElement(f.b,{to:"/edit/".concat(e.id)},"\u4fee\u6539"),r.a.createElement(S.a,{type:"vertical"}),r.a.createElement("a",{href:"javascript:",onClick:function(){return a.showConfirm(e)}},"\u5220\u9664")," ")}}]},a}return Object(d.a)(e,t),Object(u.a)(e,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(P,{style:{margin:"0 24px 24px"}},r.a.createElement(I,{pathList:["Article","List"]}),r.a.createElement("div",{style:{padding:24,backgroundColor:"#fff",minHeight:360}},r.a.createElement(w.a,{columns:this.state.columns,dataSource:this.state.articleData,pagination:{pageSize:8,total:this.state.articleCount},onChange:this.updatePage.bind(this)})))}},{key:"componentDidMount",value:function(){var t=this;this.getArticles().then(function(e){t.setState({articleCount:e.datacount,articleData:e?e.data.postList.map(function(t,e){return Object.assign(t,{key:e})}):[]})})}},{key:"updatePage",value:function(t){var e=this;this.getArticles(t.current).then(function(t){e.setState({articleCount:t.data.count,articleData:t?t.postList.data.map(function(t,e){return Object.assign(t,{key:e})}):[]})})}},{key:"getArticles",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return D.post(N.article.getArticleByPagination,{pageIndex:t,pageSize:8})}},{key:"showConfirm",value:function(t){var e=this;_({title:"Delete",content:"\u786e\u8ba4\u5220\u9664\u6587\u7ae0 ".concat(t.title," \u5417"),onCancel:function(){},onOk:function(){return new Promise(function(a,n){D.post(N.article.deleteArticle,{postId:t.id}).then(function(t){t&&!t.hasError?(C.a.success("\u5220\u9664\u6210\u529f"),e.getArticles().then(function(t){e.setState({articleData:t.data.postList.map(function(t,e){return Object.assign(t,{key:e})})}),a()})):(n(),C.a.error("\u5220\u9664\u5931\u8d25"))})}).catch(console.log)}})}}]),e}(r.a.Component),V=(a(67),a(29)),B=(a(190),a(121)),F=(a(103),a(34)),z=(a(92),a(37)),W=a(62),G=a.n(W),J=a(96),q=a(84),K=a(35),R=a(119),U=a.n(R),X=i.a.Content,$=L.a.confirm,Y=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(r)))).state={tagList:[],post:{title:"",descript:""},defaultValue:[],md:""},a.onChange=function(t){a.setState({defaultValue:t})},a.onEdit=function(t){a.setState({md:t})},a.onInput=function(t,e){var n=Object.assign(a.state.post,Object(q.a)({},e,t.target.value));a.setState({post:n})},a.submit=function(){var t=a.state.post,e=t.title,n=t.descript,r=a.state.defaultValue,c=Object(K.a)(a),o=a.state.tagList.filter(function(t){return r.includes(t.id)}).map(function(t){return t.tagName}).join(",");$({title:"Add",content:"\u786e\u8ba4\u65b0\u589e\u6587\u7ae0\u5417",onCancel:function(){},onOk:function(){return new Promise(function(t,a){D.post(N.article.insertPost,{title:e,descript:n,content:c.state.md,tags:o}).then(function(e){e&&!e.hasError?(t(),C.a.success("\u65b0\u589e\u6210\u529f"),c.props.updateStateAction("/addArticle"),c.props.history.push("/")):(a(),C.a.error("\u65b0\u589e\u5931\u8d25"))})}).catch(console.log)}})},a}return Object(d.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.getTagList().then(function(e){t.setState({tagList:e.data})})}},{key:"getTagList",value:function(){var t=Object(J.a)(G.a.mark(function t(){return G.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.get(N.tag.getAlltags);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return r.a.createElement(X,{style:{margin:"0 24px 24px"}},r.a.createElement(I,{pathList:["Article","AddArticle"]}),r.a.createElement("div",{style:{padding:24,backgroundColor:"#fff",minHeight:360}},r.a.createElement(l.a,null,r.a.createElement(l.a.Item,null,r.a.createElement(z.a,{placeholder:"article title",value:this.state.post.title,onChange:function(e){return t.onInput(e,"title")}})),r.a.createElement(l.a.Item,null,r.a.createElement(z.a,{placeholder:"article description",value:this.state.post.descript,onChange:function(e){return t.onInput(e,"descript")}})),r.a.createElement(l.a.Item,null,r.a.createElement(F.a.Group,{value:this.state.defaultValue,onChange:function(e){return t.onChange(e)},style:{width:"100%"}},this.state.tagList.map(function(t,e){return r.a.createElement(B.a,{span:8,key:e,style:{marginBottom:"15px"}},r.a.createElement(F.a,{value:t.id},t.tagName))}))),r.a.createElement(U.a,{value:this.state.md,onChange:function(e){return t.onEdit(e)}}),r.a.createElement(l.a.Item,{style:{textAlign:"right"}},r.a.createElement(V.a,{type:"primary",onClick:function(){return t.submit()}},"\u63d0\u4ea4")))))}}]),e}(r.a.Component),Q=Object(v.b)(function(t){return{path:t.path}},function(t){return{updateStateAction:function(e){return t({type:"update",payload:e})}}})(Y),Z=a(208),tt=i.a.Content,et=L.a.confirm,at=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(r)))).state={tagList:[],post:{title:"",descript:""},defaultValue:[],md:""},a.onChange=function(t){a.setState({defaultValue:t})},a.onEdit=function(t){a.setState({md:t})},a.onInput=function(t,e){var n=Object.assign(a.state.post,Object(q.a)({},e,t.target.value));a.setState({post:n})},a.submit=function(){var t=a.state.post,e=t.id,n=t.title,r=t.descript,c=a.state.defaultValue,o=Object(K.a)(a),i=a.state.tagList.filter(function(t){return c.includes(t.id)}).map(function(t){return t.tagName}).join(",");et({title:"Update",content:"\u786e\u8ba4\u66f4\u65b0\u6587\u7ae0\u5417",onCancel:function(){},onOk:function(){return new Promise(function(t,a){D.post(N.article.upadteArticle,{postId:e,title:n,descript:r,content:o.state.md,tags:i}).then(function(e){e&&!e.hasError?(t(),C.a.success("\u66f4\u65b0\u6210\u529f"),o.props.history.push("/")):(a(),C.a.error("\u66f4\u65b0\u5931\u8d25"))})}).catch(console.log)}})},a}return Object(d.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.postId;Promise.all([this.getTagList(),this.getPostById(e)]).then(function(e){var a=Object(Z.a)(e,2),n=a[0],r=a[1].data;t.setState({tagList:n.data,post:r,defaultValue:r.tags?r.tags.map(function(t){return t.id}):[],md:r.content})})}},{key:"getTagList",value:function(){var t=Object(J.a)(G.a.mark(function t(){return G.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.get(N.tag.getAlltags);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},{key:"getPostById",value:function(){var t=Object(J.a)(G.a.mark(function t(e){return G.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.post(N.article.getOnearticle,{postId:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return r.a.createElement(tt,{style:{margin:"0 24px 24px"}},r.a.createElement(I,{pathList:["Article","Edit"]}),r.a.createElement("div",{style:{padding:24,backgroundColor:"#fff",minHeight:360}},r.a.createElement(l.a,null,r.a.createElement(l.a.Item,null,r.a.createElement(z.a,{placeholder:"article title",value:this.state.post.title,onChange:function(e){return t.onInput(e,"title")}})),r.a.createElement(l.a.Item,null,r.a.createElement(z.a,{placeholder:"article description",value:this.state.post.descript,onChange:function(e){return t.onInput(e,"descript")}})),r.a.createElement(l.a.Item,null,r.a.createElement(F.a.Group,{value:this.state.defaultValue,onChange:function(e){return t.onChange(e)},style:{width:"100%"}},this.state.tagList.map(function(t,e){return r.a.createElement(B.a,{span:8,key:e,style:{marginBottom:"15px"}},r.a.createElement(F.a,{value:t.id},t.tagName))}))),r.a.createElement(U.a,{value:this.state.md,onChange:function(e){return t.onEdit(e)}}),r.a.createElement(l.a.Item,{style:{textAlign:"right"}},r.a.createElement(V.a,{type:"primary",onClick:function(){return t.submit()}},"\u63d0\u4ea4")))))}}]),e}(r.a.Component),nt=i.a.Content,rt=L.a.confirm,ct=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(p.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(c)))).state={tagData:[],saveName:"",columns:[{title:"\u6807\u7b7e\u540d",dataIndex:"tagName",render:function(t,e){return e.editState?r.a.createElement(z.a,{allowClear:!0,value:a.state.saveName,style:{width:"100%"},placeholder:"\u8bf7\u8f93\u5165\u6807\u7b7e\u540d\u79f0",onInput:a.onInput.bind(Object(K.a)(a),e)}):r.a.createElement("a",{href:"javascript:"},e.tagName)}},{title:"\u76f8\u5173\u6587\u7ae0\u6570\u91cf",dataIndex:"count",render:function(t,e){return r.a.createElement("a",{href:"javascript:"},e.count,"\u7bc7\u6587\u7ae0")}},{title:"\u529f\u80fd",render:function(t,e){return r.a.createElement("span",null,e.editState?r.a.createElement("a",{onClick:a.Save.bind(Object(K.a)(a),e),to:"javascript:"},"\u4fdd\u5b58"):r.a.createElement("a",{onClick:a.Edit.bind(Object(K.a)(a),e),to:"javascript:"},"\u7f16\u8f91"),r.a.createElement(S.a,{type:"vertical"}),e.editState?r.a.createElement("a",{href:"javascript:",onClick:a.Cancel.bind(Object(K.a)(a),e)},"\u53d6\u6d88"):r.a.createElement("a",{href:"javascript:",onClick:a.showConfirm.bind(Object(K.a)(a),e)},"\u5220\u9664"))}}]},a}return Object(d.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.getTagList().then(function(e){t.setState({tagData:e.data.map(function(t,e){return Object.assign(t,{key:e,editState:!1})})})})}},{key:"getTagList",value:function(){return D.get(N.tag.getAlltags)}},{key:"Edit",value:function(t){this.setState({tagData:this.state.tagData.map(function(e){return e.id===t.id&&(e.editState=!0),e}),saveName:t.tagName})}},{key:"onInput",value:function(t,e){this.setState({saveName:e.target.value})}},{key:"Save",value:function(t){var e=this;D.post(N.tag.renameTag,{tagName:this.state.saveName,id:t.id}).then(function(a){a?(C.a.success("\u4fee\u6539\u6210\u529f"),e.setState({tagData:e.state.tagData.map(function(a){return a.id===t.id&&(a.editState=!1,a.tagName=e.state.saveName),a}),saveName:""})):C.a.error("\u4fee\u6539\u5931\u8d25")})}},{key:"Cancel",value:function(t){this.setState({tagData:this.state.tagData.map(function(e){return e.id===t.id&&(e.editState=!1),e})})}},{key:"render",value:function(){return r.a.createElement(nt,{style:{margin:"0 24px 24px"}},r.a.createElement(I,{pathList:["Tag","List"]}),r.a.createElement("div",{style:{padding:24,backgroundColor:"#fff",minHeight:360}},r.a.createElement(w.a,{columns:this.state.columns,dataSource:this.state.tagData,pagination:{pageSize:4,total:this.state.tagData.length}})))}},{key:"showConfirm",value:function(t){var e=this;rt({title:"Delete",content:"\u786e\u8ba4\u5220\u9664\u6807\u7b7e ".concat(t.tagName," \u5417"),onCancel:function(){},onOk:function(){return new Promise(function(a,n){D.post(N.tag.deleteTag,{tagId:t.id}).then(function(t){t&&!t.hasError?(C.a.success("\u5220\u9664\u6210\u529f"),e.getTagList().then(function(t){e.setState({tagData:t.data.map(function(t,e){return Object.assign(t,{key:e})})}),a()})):(n(),C.a.error("\u5220\u9664\u5931\u8d25"))})}).catch(console.log)}})}}]),e}(r.a.Component),ot=i.a.Content,it=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(r)))).state={newTagName:""},a}return Object(d.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement(ot,{style:{margin:"0 24px 24px"}},r.a.createElement(I,{pathList:["Tag","Add"]}),r.a.createElement("div",{style:{padding:24,backgroundColor:"#fff"}},r.a.createElement(l.a,null,r.a.createElement(l.a.Item,null,r.a.createElement(z.a,{placeholder:"\u65b0\u589e\u6587\u7ae0\u6807\u7b7e",value:this.state.newTagName,onChange:this.onChange.bind(this)}))),r.a.createElement(V.a,{type:"primary",onClick:function(){return t.submit()}},"\u63d0\u4ea4")))}},{key:"onChange",value:function(t){this.setState({newTagName:t.target.value})}},{key:"submit",value:function(){var t=this;D.post(N.tag.insertTag,{tagName:t.state.newTagName,count:0}).then(function(e){e?(C.a.success("\u65b0\u589e\u6210\u529f"),t.props.history.push("/tagList")):C.a.error("\u65b0\u589e\u5931\u8d25")})}}]),e}(r.a.Component),lt=(a(410),a(209)),st=(a(412),a(207)),ut=i.a.Content,pt=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(r)))).state={commentList:[]},a}return Object(d.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.getCommentList().then(function(e){t.setState({commentList:e.data})})}},{key:"getCommentList",value:function(){return D.get(N.comment.getLeaveMessageList)}},{key:"render",value:function(){var t=this.state.commentList;return r.a.createElement(ut,{style:{margin:"0 24px 24px"}},r.a.createElement(I,{pathList:["Borad","List"]}),r.a.createElement("div",{style:{padding:24,backgroundColor:"#fff"}},r.a.createElement(lt.a,{className:"comment-list",header:"".concat(t.length," replies"),itemLayout:"horizontal",dataSource:t,renderItem:function(t){return r.a.createElement(st.a,{actions:[],author:t.name,avatar:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",content:r.a.createElement("p",null,t.content),datetime:new Date(t.created_at).toLocaleString()})}})))}}]),e}(r.a.Component),mt=(a(414),i.a.Header),dt=i.a.Footer,gt=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(r)))).toggle=function(){a.props.onCollapsedHandler()},a}return Object(d.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return r.a.createElement(i.a,{className:"right-content"},r.a.createElement(mt,{className:"right-content-header"},r.a.createElement(g.a,{className:"trigger",type:this.props.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle})),r.a.createElement(b.c,null,r.a.createElement(b.a,{exact:!0,path:"/",component:H}),r.a.createElement(b.a,{exact:!0,path:"/addArticle",component:Q}),r.a.createElement(b.a,{exact:!0,path:"/edit/:postId",component:at}),r.a.createElement(b.a,{exact:!0,path:"/tagList",component:ct}),r.a.createElement(b.a,{exact:!0,path:"/addTag",component:it}),r.a.createElement(b.a,{exact:!0,path:"/borad",component:pt})),r.a.createElement(dt,{style:{textAlign:"center"}},"backMangner \xa9 2018 - Created by React && Ant"))}}]),e}(r.a.Component),ht=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(r)))).handleSubmit=function(t){t.preventDefault(),a.props.form.validateFields(function(t,e){if(!t){var n=e.username,r=e.password;D.post(N.user.verify,{username:n,password:r}).then(function(t){if(t){C.a.success("\u767b\u5f55\u6210\u529f");var e=new Date("December 31, 2020").toGMTString();document.cookie="_ytcblog_token_=".concat(t.data.token,";expires=").concat(e,";path=/;"),a.props.updateStateAction(!0)}else C.a.error("\u767b\u5f55\u5931\u8d25")})}})},a.TouristMode=function(t){var e=new Date((new Date).getTime()+36e5).toGMTString();document.cookie="_ytcblog_token_=tourist;expires=".concat(e,";path=/;"),a.props.updateStateAction(!0)},a}return Object(d.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=this.props.form.getFieldDecorator;return r.a.createElement(l.a,{onSubmit:this.handleSubmit,alt:"\u6218\u6597\u5929\u4f7f|\u963f\u4e3d\u5854",className:"login-form"},r.a.createElement(l.a.Item,null,t("username",{rules:[{require:!0,message:"Please input your username!"}]})(r.a.createElement(z.a,{prefix:r.a.createElement(g.a,{type:"user",style:{color:"rgba(0, 0, 0, .25)"}}),placeholder:"Username"}))),r.a.createElement(l.a.Item,null,t("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(z.a,{prefix:r.a.createElement(g.a,{type:"lock",style:{color:"rgba(0, 0, 0, .25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(l.a.Item,null,t("remember",{valuePropName:"checked",initialValue:!0})(r.a.createElement(F.a,null,"Remember me")),r.a.createElement("a",{className:"login-form-forgot",onClick:this.TouristMode.bind(this),style:{float:"right"},href:"javascript:"},"\u6e38\u5ba2\u6a21\u5f0f\uff01")," ",r.a.createElement(V.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in")))}}]),e}(r.a.Component),ft=Object(v.b)(function(t){return{loginFlag:t.common.loginFlag}},function(t){return{updateStateAction:function(e){return t({type:"login",payload:e})}}})(ht),bt=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(r)))).state={collapsed:!1},a.onCollapsedHandler=function(){a.setState({collapsed:!a.state.collapsed})},a}return Object(d.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){document.cookie.match(/_ytcblog_token_=(.*)(;?)/)&&this.props.updateStateAction(!0)}},{key:"render",value:function(){var t,e=this,a=this.props.loginFlag;return a||(t=l.a.create({name:"login"})(ft)),a?r.a.createElement("div",{className:"App"},r.a.createElement(i.a,{style:{minHeight:"100vh"}},r.a.createElement(b.c,null,r.a.createElement(b.a,{path:"/",render:function(t){return r.a.createElement(k,{collapsed:e.state.collapsed,onCollapsedHandler:function(){return e.onCollapsedHandler()}})}})),r.a.createElement(gt,{collapsed:this.state.collapsed,onCollapsedHandler:function(){return e.onCollapsedHandler()}}))):r.a.createElement("div",{className:"bk",style:{overflow:"hidden"}},r.a.createElement("div",{className:"bk-cover"}),r.a.createElement(t,null))}}]),e}(r.a.Component),vt=Object(v.b)(function(t){return{loginFlag:t.common.loginFlag}},function(t){return{updateStateAction:function(e){return t({type:"login",payload:e})}}})(bt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var yt=a(82),Et=a(126),jt={path:"/",loginFlag:!1},Ot=Object(yt.b)({common:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"update":return console.log("\u66f4\u65b0\u6210\u529f",Object(Et.a)({},t,{path:e.payload})),Object(Et.a)({},t,{path:e.payload});case"login":return console.log("\u767b\u5f55",e.payload),Object(Et.a)({},t,{loginFlag:e.payload});default:return t}}}),kt=Object(yt.c)(Ot);o.a.render(r.a.createElement(f.a,null,r.a.createElement(v.a,{store:kt},r.a.createElement(vt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[212,1,2]]]);
//# sourceMappingURL=main.06e1e54b.chunk.js.map